<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>Cliente</ion-title>
    </ion-navbar>
</ion-header>
  
<ion-content>
    <ion-card *ngIf="slideActual == DATOS_FISCALES">
        <ion-card-header>
            Datos Identificación Fiscal
        </ion-card-header>
        <ion-card-content>
            <ion-item>
                <ion-label>NIF</ion-label>
                <ion-input type="text" [(ngModel)]="cliente.nif" name="nif" autofocus></ion-input>
            </ion-item>
            <button ion-button block (click)="goToDatosGenerales()">Siguiente</button>
        </ion-card-content>
    </ion-card>
    
    <ion-card *ngIf="slideActual == DATOS_GENERALES">
        <ion-card-header>
            Datos Generales
        </ion-card-header>
        
        <ion-card-content>
            <ion-card-title *ngIf="cliente && cliente.esContacto">
                Creando Contacto (ya existe el cliente)
            </ion-card-title>
            <ion-list>
                <ion-item>
                    <ion-label floating>Nombre</ion-label>
                    <ion-input type="text" [(ngModel)]="cliente.nombre" name="nombre"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label floating>Dirección</ion-label>
                    <ion-input type="text" [(ngModel)]="cliente.direccion" name="direccion"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label floating>Código Postal</ion-label>
                    <ion-input type="text" [(ngModel)]="cliente.codigoPostal" name="codigoPostal"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label floating>Teléfono</ion-label>
                    <ion-input type="text" [(ngModel)]="cliente.telefono" name="telefono"></ion-input>
                </ion-item>
            </ion-list>
            <button ion-button block (click)="slideActual = DATOS_FISCALES">&lt; Volver a Datos Fiscales</button>
            <button ion-button block (click)="goToDatosComisiones()">Ir a Datos de Comisiones &gt;</button>
        </ion-card-content>
    </ion-card>

    <ion-card *ngIf="slideActual == DATOS_COMISIONES">
        <ion-card-header>Datos Comisiones</ion-card-header>
        <ion-card-content>
            <ion-item>
                <ion-label>¿Tiene Estética?</ion-label>
                <ion-toggle [(ngModel)]="cliente.estetica"></ion-toggle>
            </ion-item>
            <ion-item>
                <ion-label>¿Tiene Peluquería?</ion-label>
                <ion-toggle [(ngModel)]="cliente.peluqueria"></ion-toggle>
            </ion-item>
            <ion-card *ngIf="slideActual == DATOS_COMISIONES">
                <ion-card-content>
                    <p><strong>{{cliente.nombre}}</strong></p>
                    <p>{{cliente.direccion}}</p>
                    <p><u>{{cliente.codigoPostal}} {{cliente.poblacion}} ({{cliente.provincia}})</u></p>
                    <p></p>
                    <p><ion-icon name="call"></ion-icon>{{cliente.telefono}}</p>
                </ion-card-content>
            </ion-card>
            
            <button ion-button block (click)="slideActual = DATOS_GENERALES">&lt; Volver a Datos Generales</button>
            <button ion-button block (click)="goToDatosPago()">Ir a Datos de Pago &gt;</button>
        </ion-card-content>
    </ion-card>

    <ion-card *ngIf="slideActual == DATOS_PAGO">
        <ion-card-header>Datos de Pago</ion-card-header>
        <ion-card-content>
            <selector-formas-pago seleccionado="{{cliente.formaPago}}" (seleccionar)="seleccionarFormaPago($event)"></selector-formas-pago>
            <ion-item *ngIf="cliente.formaPago == 'RCB'">
                <ion-label>IBAN</ion-label>
                <ion-input #iban [(ngModel)]="cliente.iban"></ion-input>
            </ion-item>
            <selector-plazos-pago seleccionado="{{cliente.plazosPago}}" (seleccionar)="cliente.plazosPago = $event"></selector-plazos-pago>
        </ion-card-content>
        <button ion-button block (click)="slideActual = DATOS_COMISIONES">&lt; Volver a Datos de Comisiones</button>
        <button ion-button block (click)="goToDatosContacto()">Ir a Datos de Contacto &gt;</button>
    </ion-card>

    <div *ngIf="slideActual == DATOS_CONTACTO">
        <h2>Datos de Contacto</h2>
        <button ion-button block (click)="annadirPersonaContacto()">Añadir Persona de Contacto</button>
        <p>{{cliente | json}}</p>
        <ion-scroll scrollY="true">
            <ion-card *ngFor="let persona of cliente.personasContacto">
                <ion-item>
                    <ion-label>Nombre</ion-label>
                    <ion-input type="text" [(ngModel)]="persona.nombre" name="nombre"></ion-input>
                </ion-item>
                <ion-item>
                    <ion-label>Correo-e</ion-label>
                    <ion-input type="email" [(ngModel)]="persona.correoElectronico" name="correoElectronico"></ion-input>
                </ion-item>
            </ion-card>
        </ion-scroll>
    </div>

</ion-content>  